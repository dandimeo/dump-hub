<app-file-view
  [loadingFiles]="loadingFiles"
  [uploadPath]="uploadPath"
  [files]="files"
>
</app-file-view>

<input
  style="display: none"
  type="file"
  multiple
  (change)="onSelect($event)"
  #hiddenfileinput
/>

<button class="btn btn-outline browse-button" (click)="hiddenfileinput.click()">
  <clr-icon shape="folder-open"></clr-icon>&nbsp; Upload file/s
</button>

<div class="selected-files">
  <ng-container *ngFor="let file of fileQueue">
    <b>{{ file.file.name }}</b>

    <div class="progress-static labeled" *ngIf="!file.error">
      <clr-progress-bar
        [clrValue]="file.progress"
        clrMax="100"
        [clrFlash]="true"
      >
      </clr-progress-bar>
      <span>{{ file.progress }}%</span>
    </div>

    <div class="progress-static labeled" *ngIf="file.error">
      <clr-progress-bar [clrValue]="0" clrMax="100"> </clr-progress-bar>
      <span class="error-text">NaN</span>
    </div>

    <b class="error-text" *ngIf="file.error">
      <cds-icon shape="error-standard"></cds-icon>
      {{ file.error }}
    </b>

    <b class="success-text" *ngIf="file.complete">
      <cds-icon shape="success-standard"></cds-icon>
      Upload complete
    </b>

    <br />
  </ng-container>
</div>
